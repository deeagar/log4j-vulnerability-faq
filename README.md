# log4j-vulnerability-faq

"Oh no, not another one on Log4j !!!" I completely understand the sentiment! ðŸ˜Š. Hold on, [this](https://deeconstantlearner.blogspot.com/) should clarify the intent of this. Highly encourage to read this. You are welcome to contribute/correct and consolidate all the Q&A around this for the benefit of larger community.

### What is Log4j?
[Log4J](https://en.wikipedia.org/wiki/Log4j) is a widely used Java library for logging messages in applications. 

### What is this vulnerability all about?
The one with the best explanation I found so far is on [youtube](https://www.youtube.com/watch?v=uyq8yxWO1ls) by [Java Brains](https://javabrains.io/)

### What is CVSS?
CVSS - Common Vulnerability Scoring System. It provides a numerical (0-10) representation of the severity of an information security vulnerability.   
CVSS Score	Qualitative Rating
|               |               |       |
| ----------- |:-------------:| -----:|
| 0.0        | None     |
| 0.1 â€“ 3.9  | Low      |
| 4.0 â€“ 6.9  | Medium   |
| 7.0 â€“ 8.9  | High     |
| 9.0 â€“ 10.0 | Critical |

CVSS actually rated 10 for this vulnerability! 

### Which versions of log4j are vulnerable?
Any version which is lower than 2.16.0

### What is it in log4j that actually makes it so serious?
1. When using a vulnerable version of log4j, any incoming data that gets logged can lead to an RCE (remote code execution). [RCE](https://en.wikipedia.org/wiki/Arbitrary_code_execution) vulnerability allows an attacker to execute arbitrary code on you server. Here is a nice blog detailing about it and possible remediations for [RCE](https://www.wallarm.com/what/the-concept-of-rce-remote-code-execution-attack) in general.
2. The default configuration of Apache log4j supports [JNDI - Java Naming and Directory Interface](https://docs.oracle.com/javase/tutorial/jndi/overview/index.html). Simply put, is a Java API for a directory service that allows Java software clients to discover and look up data and resources (in the form of Java objects) via a name. One of the uses of JNDI includes connecting Java application to external directory service (such as address database or [LDAP](https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol) server.
3. Using string interpolation technique, if you write something like `logger.error("Hey, this is an error! Details: {}", "${jndi:ldap://....}");` using log4j, it look up the value from the ldap server, serializes it and puts that value in the log message. Nothing fancy here, standard stuff. 
4. **However**, if the ldap url is of a malicious server (coming from user search input, for example) and the value above looked-up is some malicious code or object, it puts into your JVM and it executes! Remember [SQL Injection](https://www.w3schools.com/sql/sql_injection.asp)? Similar principle!  

### Are applications other than Java, using ported versions of log4j, also affected?
No. The [CVE](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228) clearly states that "_this vulnerability is specific to log4j-core and does not affect log4net, log4cxx, or other Apache Logging Services projects._" 
Since this is exploited using JNDI interface and this is supported by JVM only. Since Perl, PHP, .NET, and R don't use the JVM, they can't possibly support JNDI.  

### Best practices to fix the vulnerability
Best solution is to upgrade to the latest version >=2.16.0. You can refer [this article](https://crashtest-security.com/log4shell-vulnerability/) for more! 

### Does RCE is only limited to Java? 
No. Similar vulnerabilities have been found on the .Net platform as well. Refer [this](https://github.com/dotnet/runtime/issues/49377) one. 


**_Stay tuned for more...._** 
